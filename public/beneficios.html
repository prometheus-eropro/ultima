<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="UTF-8">
    <title>Benef√≠cios | Cart√£o AproveitAI</title>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <style>

#voltar-fixo {
  position: fixed;
  bottom: 20px;
  left: 20px;
  padding: 12px 24px;
  font-size: 16px;
  background-color: #0a7f2e;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  box-shadow: 0 3px 8px rgba(0,0,0,0.3);
  z-index: 999;
}


body, html {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
}

.wrap {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
}

        body {
            font-family: Arial, sans-serif;
            background-color: #b3e5fc;
            margin: 0;
            padding: 0;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background-color: white;
        }
        header img {
            height: 80px;
        }
        header h1 {
            font-size: 28px;
            color: #1B5E20;
            margin: 0;
        }
        .container {
            max-width: 800px;
            margin: 30px auto;
            background-color: white;
            border-radius: 10px;
            padding: 30px;
        }
        h2 {
            text-align: center;
            color: green;
        }
        .card {
            background-color: #f1fdf1;
            border-left: 6px solid green;
            margin-bottom: 20px;
            padding: 20px;
            border-radius: 6px;
        }
        .card h3 {
            color: #2e7d32;
            margin-top: 0;
            text-transform: capitalize;
        }
        .card strong {
            display: inline-block;
            width: 90px;
        }
    </style>
</head>
<body>
<header>
    <img src="logo-prometheus.png" alt="Logo Prometheus">
    <h1>Cart√£o AproveitAI</h1>
    <img src="logo-aproveitai.png" alt="Logo AproveitAI">
</header>

<div class="container">
    <h2>Benef√≠cios Ativos</h2>
    <div id="beneficios"></div>
</div>

<script>
(async () => {
  try {
const r = await fetch('/api/gateway?tabela=beneficios');
const data = await r.json();


    const container = document.getElementById('beneficios');

    data.forEach(d => {

      // filtro j√° vem do backend, mas mantemos salvaguardas
      const card = document.createElement('div');
      card.className = 'card';

      let validade = '';
      if (d.dataInicio && d.dataFim) validade = `de ${formatarData(d.dataInicio)} at√© ${formatarData(d.dataFim)}`;
      else if (d.dataFim) validade = `at√© ${formatarData(d.dataFim)}`;

      card.innerHTML = `
        <h3>${d.titulo || 'Sem t√≠tulo'}</h3>
        <p><strong>Descri√ß√£o:</strong> ${d.descricao || '-'}</p>
        <p><strong>Parceiro:</strong> ${d.parceiro || '-'}</p>
        <p><strong>Validade:</strong> ${validade || '-'}</p>
        ${d.whatsapp ? `<p><a href="https://wa.me/${d.whatsapp}" target="_blank">üì≤ Falar com parceiro no WhatsApp</a></p>` : ''}
        ${d.instagram ? `<p><a href="https://instagram.com/${d.instagram}" target="_blank">üì∏ Ver Instagram do parceiro</a></p>` : ''}
      `;
      container.appendChild(card);
    });
  } catch (e) {
    console.error(e);
  }

  function formatarData(iso){
    const [ano,mes,dia] = iso.split('-'); return `${dia}/${mes}/${ano}`;
  }
})();
</script>

<div style="text-align: center; margin: 20px;">
<button id="voltar-fixo" onclick="window.history.back()">‚¨ÖÔ∏è Voltar</button>
</div>

</body>
</html>






